<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Site name</title>
    <link rel="stylesheet" href="Product.css">
</head>
<body>
    <header>
        <div class="top-menu">
            <a href="#" class="login-link">
                <img src="image/site_logo_clear.png" alt="Logo">
            </a>
            <div class="search-container">
                <div class="search-child">
                    <input type="search" placeholder="Search..." class="search-bar">
                </div>
                <div class="search-child">
                    <img src="image/search_icon.png" alt="Search" class="search-icon">
                </div>
            </div>
            <div class="login-area">
                <a href="#" class="login-link">
                    <img src="image/sign-up_icon.png" alt="Sign Up">
                    <span>JOIN</span>
                </a>
                <a href="#" class="login-link">
                    <img src="image/join_icon.png" alt="Log In">
                    <span>LOGIN</span>
                </a>
                <a href="#" class="login-link">
                    <img src="image/user_icon.png" alt="My Account">
                    <span>MY</span>
                </a>
                <a href="#" class="login-link">
                    <img src="image/heart_icon.png" alt="Like">
                    <span>Like</span>
                </a>
            </div>
        </div>
        <nav class="menu-items">
            <a href="#">WOMEN</a>
            <a href="#">MEN</a>
        </nav>
    </header>

    <h1 class="page-name">PRODUCT</h1>
    <h4 class="current-location">MAIN > PRODUCT</h4>

    <div class="section">

        <!-- 상품 정보 -->
        <div class="section-box"> 
            <div class="product-image">
                <img id="productImage" src="" alt="">
            </div>
            <div class="product-info">
                <div class="info">
                    <h2 id="productName"></h2>
                    <p id="productCompany"></p>
                    <p id="productPrice"></p>
                    
                </div>
                <div class="info-button-box">
                    <button class="info-button1">ADD TO CART</button>
                    <button class="info-button2">BUY NOW</button>
                </div>
            </div>
        </div>

        <br><br><br>

        <!-- 유저 리뷰 -->
        <h2>USER REVIEW</h2>
        <div class="user-review-box" id="reviewContainer">
            <!-- 리뷰가 여기 추가됩니다 -->
        </div>

        <script>
            // productId를 URL에서 추출 (예: "/api/itemDetail/1")
            const productId = window.location.pathname.split('/').pop();

            fetch(`https://25c655d4-ca15-482f-9e72-4110c1223611.mock.pstmn.io`)
                .then(response => response.json())
                .then(data => {
                    // 상품 정보 렌더링
                    const productImage = document.getElementById('productImage');
                    const productName = document.getElementById('productName');
                    const productCompany = document.getElementById('productCompany');
                    const productPrice = document.getElementById('productPrice');
                    const reviewContainer = document.getElementById('reviewContainer');

                    // 이미지와 텍스트 설정
                    productImage.src = data.image;
                    productImage.alt = data.itemName;
                    productName.textContent = data.itemName;
                    productCompany.textContent = `${data.company}`;
                    productPrice.textContent = `${data.price}원`;

                    // 리뷰 렌더링
                    data.itemReview.forEach(review => {
                        const reviewElement = document.createElement('div');
                        reviewElement.classList.add('user-review');
                        reviewElement.innerHTML = `
                        <h3>${review.title} <span class="review-username">(${review.username})</span></h3>
                        <p>${review.content}</p>
                        <br>
                        <p class="review-star">${'★'.repeat(review.star)}${'☆'.repeat(5 - review.star)}</p>
                
                        
                        `;
                        reviewContainer.appendChild(reviewElement);
                    });
                })
                .catch(error => {
                    console.error('Error:', error);
                });
        </script>

        <footer>
            <div class="footer-info">
                <div class="footer-Customer-Service">
                    <div class="help-info">
                        <span class="info_1">고객센터 : 1566-****<br></span>
                        <span class="info_2"> 09:00-18:00 / 점심시간 : 12:30-13:30<br></span>
                        <span class="info_2"><br>cs_help@.co.kr</span>
                    </div>
                </div>
                <div class="footer-button-box">
                    <a href="">
                        <img src="image/inquiry_button.png" alt="Inquiry">
                    </a>
                    <a href="">
                        <img src="image/FAQ_button.png" alt="FAQ">
                    </a>
                </div>
            </div>
        </footer>
    </div>
</body>
</html>
